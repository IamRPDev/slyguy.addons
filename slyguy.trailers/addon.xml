<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<addon id="slyguy.trailers" name="SlyGuy Trailers" provider-name="SlyGuy" version="0.0.5">
    <requires>
        <import addon="script.module.slyguy" version="0.85.87"/>
    </requires>
    <extension point="xbmc.python.pluginsource" library="default.py">
        <provides>executable</provides>
    </extension>
    <extension point="xbmc.service" library="service.py" start="login" />
    <extension point="kodi.context.item">
        <menu id="kodi.core.main">
        <item library="default.py">
            <label>$LOCALIZE[20410]</label>
            <visible>[!String.IsEmpty(ListItem.Trailer) + ![String.StartsWith(Container.FolderPath,plugin://) + String.Contains(Container.FolderPath,trailer)] + Integer.IsGreaterOrEqual(Window(10000).Property(_slyguy_trailer_context_menu),1)] |
                    [[!String.IsEmpty(ListItem.IMDBNumber) | !String.IsEmpty(ListItem.UniqueID())] + [String.IsEqual(ListItem.DBType,movie) | String.IsEqual(ListItem.DBType,tvshow)] + Integer.IsGreaterOrEqual(Window(10000).Property(_slyguy_trailer_context_menu),2)] |
                    [!String.IsEmpty(ListItem.Label) + !String.IsEmpty(ListItem.Year) + [String.IsEqual(ListItem.DBType,movie) | String.IsEqual(ListItem.DBType,tvshow)] + Integer.IsGreaterOrEqual(Window(10000).Property(_slyguy_trailer_context_menu),3)] |
                    [[String.IsEqual(ListItem.DBType,movie) | String.IsEqual(ListItem.DBType,tvshow)] + Integer.IsGreaterOrEqual(Window(10000).Property(_slyguy_trailer_context_menu),4)]
            </visible>
        </item>
        </menu>
    </extension>
    <extension point="xbmc.addon.metadata">
        <description lang="en">Trailers</description>
        <reuselanguageinvoker>true</reuselanguageinvoker>
        <license></license>
        <language></language>
        <website></website>
        <news>Update yt-dlp to 2025.03.31</news>
        <assets>
        <icon>icon.png</icon>
        </assets>
    </extension>
</addon>
